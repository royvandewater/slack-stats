{"ok":true,"messages":[{"type":"message","user":"UAB5V7WAV","text":"Trying to get rid of some of the realllly generic \u201csomething went bad\u2026\u201d type log messages: <https:\/\/github.com\/circleci\/providers-service\/pull\/170>","client_msg_id":"60a68613-c092-45eb-ad04-99021bc0f727","ts":"1539284961.000100"},{"type":"message","user":"U0552FEUK","text":":information_source: OKRs <https:\/\/circleci.latticehq.com\/goals\/60b0d4b2-884c-4ec6-bc69-4b4a3b52a2c0>, <https:\/\/circleci.latticehq.com\/goals\/c295553e-46a4-45bd-ae55-d4104b3f65cb>","client_msg_id":"35adef8c-f5d8-4f62-aeaa-b95e28886a90","ts":"1539283333.000100"},{"type":"message","user":"UAB5V7WAV","text":"<https:\/\/thumbs.gfycat.com\/GeneralFatalBear-max-1mb.gif>","client_msg_id":"f6b27347-cd6c-4247-b10a-387e6681d10e","attachments":[{"fallback":"221x240px image","image_url":"https:\/\/thumbs.gfycat.com\/GeneralFatalBear-max-1mb.gif","image_width":221,"image_height":240,"image_bytes":938905,"is_animated":true,"from_url":"https:\/\/thumbs.gfycat.com\/GeneralFatalBear-max-1mb.gif","id":1,"original_url":"https:\/\/thumbs.gfycat.com\/GeneralFatalBear-max-1mb.gif"}],"ts":"1539283119.000100","reactions":[{"name":"rolling_on_the_floor_laughing","users":["UBRHEKHUM","U0552FEUK"],"count":2}]},{"type":"message","user":"UAY14DYUA","text":"Success!\n```\nnotifications-service.domain-service=&gt; (get-github-project-by-external-id \"152620528\")\n{:slug \"roy2\", :organization-id \"2fd771c1-30d8-4466-83b6-f711d90d1f1e\"}\n```","client_msg_id":"08013a1b-4cb2-4027-ae20-5f170c96aef4","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539282840.000100"},{"type":"message","user":"UAY14DYUA","text":"Will someone please take a look at <https:\/\/github.com\/circleci\/domain-service\/pull\/161> ?","client_msg_id":"f6313d60-5249-4ea6-ae7d-eb873dc41ecd","ts":"1539281259.000100","reactions":[{"name":"eyes","users":["UBRHEKHUM"],"count":1},{"name":"plus-one","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UAB5V7WAV","text":"<https:\/\/github.com\/circleci\/notifications-service\/pull\/42>","client_msg_id":"02ec2a03-a457-4f43-a45b-0b9d6f9da480","ts":"1539281127.000200","reactions":[{"name":"plus-one","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"U8W5UU7CZ","text":"Sorry about that","client_msg_id":"800b9390-9ab0-42a8-b798-4ec9b699604e","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539279276.000100"},{"type":"message","user":"U8W5UU7CZ","text":"AFK for therapy","client_msg_id":"07313297-cbdd-46af-abba-d98cca422dd4","ts":"1539279253.000100"},{"type":"message","user":"UBRHEKHUM","text":"I'm able to click `re-run checks` and it looks like the `Unknown Error` issue is fixed!","client_msg_id":"f931cebb-9ca5-4e94-8f28-8033dc6c9d59","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278712.000100"},{"type":"message","user":"U8W5UU7CZ","text":"merged","client_msg_id":"f52d3a41-3a16-4542-be2b-95249beb2ea6","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278416.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1}]},{"text":"PR ready for review to add the org-id lookup to domain-service: <https:\/\/github.com\/circleci\/domain-service\/pull\/161>","client_msg_id":"ecbf1652-ec67-4164-96bd-15618b1996d3","thread_ts":"1539274781.000100","is_thread_broadcast":true,"type":"message","subtype":"thread_broadcast","user":"UAY14DYUA","root":{"type":"message","user":"UAY14DYUA","text":"Soo, it looks like we don\u2019t get the org-id back when we call circle\/circle to get projects by external-id. However, we do get the analytics id back, so we could call get-project to get the org-id. Alternatively, we could update the circle\/circle API to add the org-id to the get-projects-by-external-id. What do y\u2019all think?","client_msg_id":"02553bd6-7d58-46fb-a481-4b69bc128b65","thread_ts":"1539274781.000100","reply_count":14,"replies":[{"user":"UAY14DYUA","ts":"1539275471.000100"},{"user":"UAY14DYUA","ts":"1539275950.000100"},{"user":"U0AAE04H5","ts":"1539277834.000100"},{"user":"UAY14DYUA","ts":"1539277859.000100"},{"user":"U0AAE04H5","ts":"1539277868.000100"},{"user":"UAY14DYUA","ts":"1539277869.000100"},{"user":"UAY14DYUA","ts":"1539277882.000100"},{"user":"U0AAE04H5","ts":"1539277897.000100"},{"user":"U0AAE04H5","ts":"1539277908.000100"},{"user":"UAY14DYUA","ts":"1539277920.000100"},{"user":"U0AAE04H5","ts":"1539278041.000100"},{"user":"UAY14DYUA","ts":"1539278087.000100"},{"user":"UAY14DYUA","ts":"1539278410.000100"},{"user":"UAY14DYUA","ts":"1539282840.000100"}],"subscribed":true,"last_read":"1539282840.000100","unread_count":0,"ts":"1539274781.000100"},"ts":"1539278410.000100"},{"type":"message","user":"UBRHEKHUM","text":"Disabling now. Can you ping me once it's in so I can add it again?","client_msg_id":"15e84738-dbb5-4ee0-a2d7-a4e288ac61bb","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278392.000100"},{"type":"message","user":"U8W5UU7CZ","text":"Can someone disable that setting temporarily","client_msg_id":"2515cd7c-fd24-4c72-b914-10afa6945fdf","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278357.000100"},{"type":"message","user":"U8W5UU7CZ","text":"&gt; All required statuses and check runs on this pull request must run successfully to enable automatic merging.","client_msg_id":"7011583b-0906-410e-9b3d-60ecb679ff34","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278349.000100"},{"type":"message","user":"U8W5UU7CZ","text":"Merge is blocked and I have to go","client_msg_id":"93626357-f2d7-4b9d-b63b-dd97e70e1904","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278264.000100"},{"type":"message","user":"U8W5UU7CZ","text":"<@UBRHEKHUM> can you take a look? That will fix the issue we are seeing while I work on the create\/undelete feature","client_msg_id":"92304c15-c52c-4b2e-80f6-4fa4d93853f4","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539278109.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1},{"name":"plus-one","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UAY14DYUA","text":"Looks like Pat already added the backfill: <https:\/\/github.com\/circleci\/domain-service\/blob\/master\/service\/src\/circleci\/domain\/orgs.clj#L87-L91>","client_msg_id":"c4d13b8d-2969-4d3a-b01a-242dd837468a","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539278087.000100","reactions":[{"name":"+1","users":["U0AAE04H5"],"count":1}]},{"type":"message","user":"U0AAE04H5","text":"hrm.  I think in practice, this race won'thappen, because if the org doesn't exist in domain-service the user can't even get to the UI to enable checks (they get a graphql error).","client_msg_id":"e67de564-2d49-4021-9e40-a42d7aca8b8b","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539278041.000100"},{"type":"message","user":"UAY14DYUA","text":"Right, although we haven\u2019t built that yet AFAIK","client_msg_id":"29d9f811-4841-4e24-89fe-3d0c91ff09b9","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277920.000100"},{"type":"message","user":"U0AAE04H5","text":"... fallback to asking circleci\/circle","client_msg_id":"2c37aff6-8be6-4b02-864e-b57f8135b36b","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277908.000100"},{"type":"message","user":"U0AAE04H5","text":"oh, but the get-org would also fallback.","client_msg_id":"cc5072ae-17c7-41e4-8e89-8709397954ac","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277897.000100"},{"type":"message","user":"UAY14DYUA","text":"But a second org created within 24 hours would cause it","client_msg_id":"c3fb10a8-026f-477c-b6c1-ab6a6a89b3f8","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277882.000100"},{"type":"message","user":"U8W5UU7CZ","text":"Need to investigate as follow-up work","client_msg_id":"585f4ad5-7a94-46fd-821b-b5159cce69e7","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277871.000100"},{"type":"message","user":"UAY14DYUA","text":"it\u2019s less likely to occur","client_msg_id":"a5fa05e6-5197-45a3-9ca0-a51e20d8f2f2","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277869.000100"},{"type":"message","user":"U0AAE04H5","text":"That's not great.","client_msg_id":"0e006161-e088-4c3e-b1ef-0b06090f06fe","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277868.000100"},{"type":"message","user":"UAY14DYUA","text":"Yes, there is a ticket out there for that case","client_msg_id":"b1530893-29b9-4023-8327-2c14dd3aa043","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277859.000100"},{"type":"message","user":"U8W5UU7CZ","text":"<https:\/\/github.com\/circleci\/notifications-service\/pull\/41>","client_msg_id":"7300d222-b66b-4f88-be71-6f8f3eea6aeb","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277858.000100"},{"type":"message","user":"U0AAE04H5","text":"I think the extra lookup is okay, but is it possible for the org to also not exist in domain-service?","client_msg_id":"f9f0a740-17b4-4c23-96b6-a598517b6774","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539277834.000100"},{"type":"message","user":"UBRHEKHUM","text":"You're _too good_!","client_msg_id":"a4b471bd-e655-4e50-a0e7-8d9f7ced9277","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277263.000100"},{"type":"message","user":"U8W5UU7CZ","text":"I\u2019m about to submit a patch","client_msg_id":"fd156916-62fc-4758-baef-f35cd0d4469d","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277233.000100","reactions":[{"name":"partypairrot","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UBRHEKHUM","text":"Looks like you and Pat were the last few to make updates. Do you know your path forward or do we need to see if we can get some people to rally to figure out the issue?","client_msg_id":"117bd1d6-b728-452c-945b-e06609d4fbde","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277189.000100"},{"type":"message","user":"U8W5UU7CZ","text":"it blocks job-updated events for deleted projects","client_msg_id":"8d1f83e5-0134-4890-8a51-2dec6ca081c3","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277066.000100"},{"type":"message","user":"U8W5UU7CZ","text":"new code","client_msg_id":"66147eb6-149b-459c-9a31-34d45ff1c117","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277056.000100"},{"type":"message","user":"UBRHEKHUM","text":"Is this due to some newly merged code or are we just now seeing the error?","client_msg_id":"7a5a84e3-f15c-4b69-a4e7-225ab11f16fa","thread_ts":"1539276870.000100","parent_user_id":"U8W5UU7CZ","ts":"1539277022.000100"},{"type":"message","user":"U8W5UU7CZ","text":"accounts-service is erroring on `getProject` call","client_msg_id":"91ca943d-f76f-4ee7-80f5-b2b440705790","thread_ts":"1539276870.000100","reply_count":16,"replies":[{"user":"UBRHEKHUM","ts":"1539277022.000100"},{"user":"U8W5UU7CZ","ts":"1539277056.000100"},{"user":"U8W5UU7CZ","ts":"1539277066.000100"},{"user":"UBRHEKHUM","ts":"1539277189.000100"},{"user":"U8W5UU7CZ","ts":"1539277233.000100"},{"user":"UBRHEKHUM","ts":"1539277263.000100"},{"user":"U8W5UU7CZ","ts":"1539277858.000100"},{"user":"U8W5UU7CZ","ts":"1539277871.000100"},{"user":"U8W5UU7CZ","ts":"1539278109.000100"},{"user":"U8W5UU7CZ","ts":"1539278264.000100"},{"user":"U8W5UU7CZ","ts":"1539278349.000100"},{"user":"U8W5UU7CZ","ts":"1539278357.000100"},{"user":"UBRHEKHUM","ts":"1539278392.000100"},{"user":"U8W5UU7CZ","ts":"1539278416.000100"},{"user":"UBRHEKHUM","ts":"1539278712.000100"},{"user":"U8W5UU7CZ","ts":"1539279276.000100"}],"subscribed":false,"unread_count":16,"ts":"1539276870.000100"},{"type":"message","user":"UBRHEKHUM","text":"My hack of a clojure PR inside of providers-service to add query args to the workflow link: <https:\/\/github.com\/circleci\/providers-service\/pull\/169>\n\nfor ticket <https:\/\/circleci.atlassian.net\/browse\/CIRCLE-14081>\n\nLet me know what I need to change as I'm sure I need to change alot!","client_msg_id":"15662737-8b7b-467a-89d2-08bc3bd6a73d","ts":"1539276634.000100"},{"type":"message","user":"U8W5UU7CZ","text":"I\u2019m investigating","client_msg_id":"49b1a346-2f12-468c-823e-cc582ffc9d8a","ts":"1539276548.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"U8W5UU7CZ","text":"Yeah that happened after my deploy","client_msg_id":"6f25eb45-3414-4eaa-b0ba-3bebaf521ac4","ts":"1539276536.000100"},{"type":"message","user":"UBRHEKHUM","text":"Is this a known issue?","client_msg_id":"3fef257a-4985-427c-b370-9fce787eed7c","ts":"1539276528.000100"},{"type":"message","text":"while when I look at \"More Details\" I see this","files":[{"id":"FDBGK4Q00","created":1539276520,"timestamp":1539276520,"name":"Screen Shot 2018-10-11 at 12.47.56 PM.png","title":"Screen Shot 2018-10-11 at 12.47.56 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"UBRHEKHUM","editable":false,"size":31394,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T02519B3Z-FDBGK4Q00\/screen_shot_2018-10-11_at_12.47.56_pm.png","url_private_download":"https:\/\/files.slack.com\/files-pri\/T02519B3Z-FDBGK4Q00\/download\/screen_shot_2018-10-11_at_12.47.56_pm.png","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGK4Q00-3d178a1afc\/screen_shot_2018-10-11_at_12.47.56_pm_64.png","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGK4Q00-3d178a1afc\/screen_shot_2018-10-11_at_12.47.56_pm_80.png","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGK4Q00-3d178a1afc\/screen_shot_2018-10-11_at_12.47.56_pm_360.png","thumb_360_w":360,"thumb_360_h":250,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGK4Q00-3d178a1afc\/screen_shot_2018-10-11_at_12.47.56_pm_480.png","thumb_480_w":480,"thumb_480_h":333,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGK4Q00-3d178a1afc\/screen_shot_2018-10-11_at_12.47.56_pm_160.png","image_exif_rotation":1,"original_w":580,"original_h":402,"permalink":"https:\/\/circleci.slack.com\/files\/UBRHEKHUM\/FDBGK4Q00\/screen_shot_2018-10-11_at_12.47.56_pm.png","permalink_public":"https:\/\/slack-files.com\/T02519B3Z-FDBGK4Q00-ad25f6b95d"}],"upload":true,"user":"UBRHEKHUM","display_as_bot":false,"ts":"1539276521.000100"},{"type":"message","text":"While trying to add a PR to `providers-service`, I see the following inside of the Checks UI","files":[{"id":"FDBGJSS9W","created":1539276505,"timestamp":1539276505,"name":"Screen Shot 2018-10-11 at 12.47.51 PM.png","title":"Screen Shot 2018-10-11 at 12.47.51 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"UBRHEKHUM","editable":false,"size":66918,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T02519B3Z-FDBGJSS9W\/screen_shot_2018-10-11_at_12.47.51_pm.png","url_private_download":"https:\/\/files.slack.com\/files-pri\/T02519B3Z-FDBGJSS9W\/download\/screen_shot_2018-10-11_at_12.47.51_pm.png","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_64.png","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_80.png","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_360.png","thumb_360_w":360,"thumb_360_h":212,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_480.png","thumb_480_w":480,"thumb_480_h":283,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_160.png","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_720.png","thumb_720_w":720,"thumb_720_h":424,"thumb_800":"https:\/\/files.slack.com\/files-tmb\/T02519B3Z-FDBGJSS9W-84fac13f49\/screen_shot_2018-10-11_at_12.47.51_pm_800.png","thumb_800_w":800,"thumb_800_h":471,"image_exif_rotation":1,"original_w":864,"original_h":509,"permalink":"https:\/\/circleci.slack.com\/files\/UBRHEKHUM\/FDBGJSS9W\/screen_shot_2018-10-11_at_12.47.51_pm.png","permalink_public":"https:\/\/slack-files.com\/T02519B3Z-FDBGJSS9W-a1dcce35b3"}],"upload":true,"user":"UBRHEKHUM","display_as_bot":false,"ts":"1539276508.000100"},{"type":"message","user":"UAY14DYUA","text":"Gonna start by doing the extra lookup in the domain-service for now. This endpoint gets hit very rarely (only on cache miss of recently created projects as we react to the `project-created` event)","client_msg_id":"d6706478-035b-4ae2-bd55-ddc0cabbfda5","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539275950.000100"},{"type":"message","user":"UAY14DYUA","text":"<@U0AAE04H5> ^^","client_msg_id":"60ad8299-12c6-439e-8f9f-ab18e5020bf5","thread_ts":"1539274781.000100","parent_user_id":"UAY14DYUA","ts":"1539275471.000100"},{"type":"message","user":"U8W5UU7CZ","text":"providers-service","client_msg_id":"2042391d-ab64-442b-9dff-03e82a1805a8","thread_ts":"1539274854.000100","parent_user_id":"UBRHEKHUM","ts":"1539274873.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UBRHEKHUM","text":"What service is responsible for sending the markdown to checks?","client_msg_id":"f8d4dbe3-8cfb-4e79-9162-140470fefdc1","thread_ts":"1539274854.000100","reply_count":1,"replies":[{"user":"U8W5UU7CZ","ts":"1539274873.000100"}],"subscribed":false,"unread_count":1,"ts":"1539274854.000100"},{"type":"message","user":"UAY14DYUA","text":"Soo, it looks like we don\u2019t get the org-id back when we call circle\/circle to get projects by external-id. However, we do get the analytics id back, so we could call get-project to get the org-id. Alternatively, we could update the circle\/circle API to add the org-id to the get-projects-by-external-id. What do y\u2019all think?","client_msg_id":"02553bd6-7d58-46fb-a481-4b69bc128b65","thread_ts":"1539274781.000100","reply_count":14,"replies":[{"user":"UAY14DYUA","ts":"1539275471.000100"},{"user":"UAY14DYUA","ts":"1539275950.000100"},{"user":"U0AAE04H5","ts":"1539277834.000100"},{"user":"UAY14DYUA","ts":"1539277859.000100"},{"user":"U0AAE04H5","ts":"1539277868.000100"},{"user":"UAY14DYUA","ts":"1539277869.000100"},{"user":"UAY14DYUA","ts":"1539277882.000100"},{"user":"U0AAE04H5","ts":"1539277897.000100"},{"user":"U0AAE04H5","ts":"1539277908.000100"},{"user":"UAY14DYUA","ts":"1539277920.000100"},{"user":"U0AAE04H5","ts":"1539278041.000100"},{"user":"UAY14DYUA","ts":"1539278087.000100"},{"user":"UAY14DYUA","ts":"1539278410.000100"},{"user":"UAY14DYUA","ts":"1539282840.000100"}],"subscribed":true,"last_read":"1539282840.000100","unread_count":0,"ts":"1539274781.000100"},{"type":"message","user":"U942ELGCB","text":":status: I\u2019m also down with the flu. I\u2019ll be available on Slack but I\u2019m afraid I\u2019m not going to be very productive today. :sneezing_face:","client_msg_id":"ed9b0739-71d6-4957-bf10-ac6b4db23da0","ts":"1539274699.000100"},{"type":"message","user":"U8W5UU7CZ","text":"notifications-service prevent notifications for deleted projects: <https:\/\/github.com\/circleci\/notifications-service\/pull\/40>","client_msg_id":"560086aa-6373-4ab5-9dca-5c4cc18b89f3","ts":"1539274698.000100","reactions":[{"name":"eyes","users":["UAY14DYUA"],"count":1},{"name":"passing-build","users":["UAY14DYUA"],"count":1}]},{"type":"message","user":"UAY14DYUA","text":"Bah:\n\n```\nnotifications-service.domain-service=&gt; (get-github-project-by-external-id \"152620528\")\n{:slug \"roy2\", :organization-id nil}\n```","client_msg_id":"f6ea0d14-64a9-47b3-991c-ffedeed494c6","thread_ts":"1539271643.000100","parent_user_id":"UAY14DYUA","ts":"1539274656.000100"},{"type":"message","user":"U942ELGCB","text":"Get well!","client_msg_id":"1d8e5971-8bad-40a9-a228-18fc706fdd4e","thread_ts":"1539269161.000100","parent_user_id":"U5GFSKLP6","ts":"1539274145.000100"},{"type":"message","user":"U03SRF7TB","text":":raised_hands:","client_msg_id":"a5eefffc-101b-4608-b9c5-e92e7c2df776","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539274143.000100"},{"type":"message","user":"USLACKBOT","text":"Reminder: Standup: <https:\/\/circleci.zoom.us\/j\/251365385>","bot_id":"B01","ts":"1539273601.000100"},{"type":"message","user":"UAY14DYUA","text":"I thought I double checked that we didn\u2019t need the org-id back from the domain-service, but now I see that we do. Trying to see if I can get it to fallback to circle\/circle so I can see what happens","client_msg_id":"0640aed9-9bf4-42da-92d0-13bacdf5d432","thread_ts":"1539271643.000100","parent_user_id":"UAY14DYUA","ts":"1539273340.000100"},{"type":"message","user":"UBRHEKHUM","text":"PR to add a callout about API Gateway being a new service and not the same as api-service per <https:\/\/circleci.slack.com\/archives\/CB4KV3V1D\/p1539272304000100?thread_ts=1539270897.000100&amp;cid=CB4KV3V1D>\n\n<https:\/\/github.com\/circleci\/api-gateway\/pull\/46>","client_msg_id":"41e8c426-419f-4dea-a443-ab5a98823d30","attachments":[{"from_url":"https:\/\/circleci.slack.com\/archives\/CB4KV3V1D\/p1539272304000100?thread_ts=1539270897.000100&amp;cid=CB4KV3V1D","fallback":"[October 11th, 2018 8:38 AM] dancarley: <@UBRHEKHUM> Can <#CB4KV3V1D|janeway-team> add a blurb to the README for anyone that comes across it? <https:\/\/github.com\/circleci\/api-gateway#janeway-api-gateway>","ts":"1539272304.000100","author_id":"UAXP5CB5Z","author_subname":"Dan Carley","channel_id":"CB4KV3V1D","channel_name":"janeway-team","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"<@UBRHEKHUM> Can <#CB4KV3V1D|janeway-team> add a blurb to the README for anyone that comes across it? <https:\/\/github.com\/circleci\/api-gateway#janeway-api-gateway>","author_name":"Dan Carley","author_link":"https:\/\/circleci.slack.com\/team\/UAXP5CB5Z","author_icon":"https:\/\/avatars.slack-edge.com\/2018-05-29\/371940389219_342789278ccd4885055c_48.jpg","mrkdwn_in":["text"],"id":1,"original_url":"https:\/\/circleci.slack.com\/archives\/CB4KV3V1D\/p1539272304000100?thread_ts=1539270897.000100&amp;cid=CB4KV3V1D","footer":"From a thread in #janeway-team"}],"ts":"1539272765.000100"},{"type":"message","user":"U214T7GAF","text":"missing standup to give the wife a ride to work (her car's in the shop).  i'll be looking to pair after that if anyone's interested","client_msg_id":"d5bea507-fa91-4df3-8399-1380095fae4b","ts":"1539272512.000100"},{"type":"message","user":"UBRHEKHUM","text":"Will make an update now!","client_msg_id":"d3d57774-d1fe-40cf-9055-5c43f82f4b03","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539272322.000100","reactions":[{"name":"thankyoubean","users":["UAXP5CB5Z"],"count":1}]},{"type":"message","user":"UAXP5CB5Z","text":"<@UBRHEKHUM> Can <#CB4KV3V1D|janeway-team> add a blurb to the README for anyone that comes across it? <https:\/\/github.com\/circleci\/api-gateway#janeway-api-gateway>","client_msg_id":"41574d0a-2e81-4d09-bd2e-39017f45b069","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539272304.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UAY14DYUA","text":"Merging domain-service update that falls back on external-id lookups","client_msg_id":"be4c22db-33c9-4caa-88db-47b76874b51a","thread_ts":"1539271643.000100","reply_count":2,"replies":[{"user":"UAY14DYUA","ts":"1539273340.000100"},{"user":"UAY14DYUA","ts":"1539274656.000100"}],"subscribed":true,"last_read":"1539274656.000100","unread_count":0,"ts":"1539271643.000100"},{"type":"message","user":"UAY14DYUA","text":"Spending some time going through the operational strategy doc <@UAB5V7WAV> linked to","client_msg_id":"008e18f4-6f3f-4d9b-a203-10c3b44682ad","ts":"1539271224.000100"},{"type":"message","user":"U03SRF7TB","text":"Nice","client_msg_id":"59a5e793-3a71-4672-86c8-d4fcf8d59c3e","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271137.000100"},{"type":"message","user":"UBRHEKHUM","text":"API Gateway is an entirely new thing. ADR-10 outlines it","client_msg_id":"fa6ecb1c-9f57-45dd-84ea-8d0fcab1d373","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271131.000100"},{"type":"message","user":"U03SRF7TB","text":"Daaaaang","client_msg_id":"a912760d-dec0-4af9-b22c-e264051de9e2","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271126.000100"},{"type":"message","user":"UBRHEKHUM","text":"Yes","client_msg_id":"fcaf6e88-56f9-4f6d-b0f5-86dce172970b","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271120.000100"},{"type":"message","user":"U03SRF7TB","text":"Like, did we build a whole new API service?","client_msg_id":"09849034-bf31-4221-907c-4d25b62520a1","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271110.000100"},{"type":"message","user":"UBRHEKHUM","text":"As in how is its implementation\/usage different or how it will be different once its in use outside of just Janeway?","client_msg_id":"1a1f42f9-93d4-443e-8df6-644e8bf6f744","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271060.000100"},{"type":"message","user":"U03SRF7TB","text":"How?","client_msg_id":"6078e891-86ba-4a5f-aa52-306c67f59e6a","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271029.000100"},{"type":"message","user":"UBRHEKHUM","text":"At this moment, yes.","client_msg_id":"b0628f9e-7901-4d72-8458-1cb7d311d1ed","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539271018.000100"},{"type":"message","user":"U03SRF7TB","text":"But is it different from the other one?","client_msg_id":"255ed80e-678e-47c7-ba7d-23956513dc46","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270998.000100"},{"type":"message","user":"UBRHEKHUM","text":"`graphql.circleci` _shouldn't_ be being used by anything other than `app.circleci`","client_msg_id":"0b12fcd4-fc89-4f97-8222-9cb814da6c39","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270986.000100"},{"type":"message","user":"U03SRF7TB","text":"Is that not the existing GraphQL API?","client_msg_id":"ad19b40d-d1b1-45a8-93b0-5b03cd64cee0","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270963.000100"},{"type":"message","user":"UBRHEKHUM","text":"I am imagining that being removed _soon_ (tm)","client_msg_id":"1d3f9580-2391-4d28-9d37-e61b3bc2524e","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270954.000100"},{"type":"message","user":"UBRHEKHUM","text":"During development, we have it behind `basic-auth` in order to allow us to not have the actual public view it.","client_msg_id":"68b3f272-0f1f-4fea-9317-cba03cacf661","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270945.000100"},{"type":"message","user":"U03SRF7TB","text":"Oh, not at that URL? That's new, I take it?","client_msg_id":"cadac0dc-d2af-4f74-abc8-b29eac9614ee","thread_ts":"1539270897.000100","parent_user_id":"U03SRF7TB","ts":"1539270927.000100"},{"type":"message","user":"U03SRF7TB","text":"It looks like `web-ui` is using a (static) username and password to access GraphQL. What's that for? Isn't that API publicly available?","client_msg_id":"825acfe7-3ca7-41e8-b935-b2c021b2f05b","thread_ts":"1539270897.000100","reply_count":17,"replies":[{"user":"U03SRF7TB","ts":"1539270927.000100"},{"user":"UBRHEKHUM","ts":"1539270945.000100"},{"user":"UBRHEKHUM","ts":"1539270954.000100"},{"user":"U03SRF7TB","ts":"1539270963.000100"},{"user":"UBRHEKHUM","ts":"1539270986.000100"},{"user":"U03SRF7TB","ts":"1539270998.000100"},{"user":"UBRHEKHUM","ts":"1539271018.000100"},{"user":"U03SRF7TB","ts":"1539271029.000100"},{"user":"UBRHEKHUM","ts":"1539271060.000100"},{"user":"U03SRF7TB","ts":"1539271110.000100"},{"user":"UBRHEKHUM","ts":"1539271120.000100"},{"user":"U03SRF7TB","ts":"1539271126.000100"},{"user":"UBRHEKHUM","ts":"1539271131.000100"},{"user":"U03SRF7TB","ts":"1539271137.000100"},{"user":"UAXP5CB5Z","ts":"1539272304.000100"},{"user":"UBRHEKHUM","ts":"1539272322.000100"},{"user":"U03SRF7TB","ts":"1539274143.000100"}],"subscribed":false,"unread_count":17,"ts":"1539270897.000100"},{"type":"message","user":"UAY14DYUA","text":":wave:","client_msg_id":"e5e76643-16de-4e43-b2dd-477fd85afac1","ts":"1539270368.000100"},{"type":"message","user":"U0552FEUK","text":"Feel better!! ","client_msg_id":"fcc65ea3-fe38-499d-add9-91ab9e40a14f","thread_ts":"1539269161.000100","parent_user_id":"U5GFSKLP6","ts":"1539269251.000100","reactions":[{"name":"thankyoubean","users":["U5GFSKLP6"],"count":1}]},{"type":"message","user":"UBRHEKHUM","text":"get to feeling better!","client_msg_id":"ef4d7517-ecb2-4a7f-b02c-a0a909644010","thread_ts":"1539269161.000100","parent_user_id":"U5GFSKLP6","ts":"1539269177.000100","reactions":[{"name":"thankyoubean","users":["U5GFSKLP6"],"count":1}]},{"type":"message","user":"U5GFSKLP6","text":"Good morning :sunny:!  I am feeling really sick, I think the flu :sneezing_face: got to me... I will try to get rest, and hopefully return later today.","client_msg_id":"63DCE5AC-A87E-4EBC-8E71-60285EC7FF5D","thread_ts":"1539269161.000100","reply_count":3,"replies":[{"user":"UBRHEKHUM","ts":"1539269177.000100"},{"user":"U0552FEUK","ts":"1539269251.000100"},{"user":"U942ELGCB","ts":"1539274145.000100"}],"subscribed":false,"unread_count":3,"ts":"1539269161.000100"},{"type":"message","user":"UAB5V7WAV","text":"<@UAP8GD0TV> I\u2019m going to solicit some feedback from the team and we should be able to officially get this to you later today.","client_msg_id":"c472024f-d070-46a0-9e2b-704fbcab60ac","thread_ts":"1539259878.000100","parent_user_id":"UAB5V7WAV","ts":"1539259916.000100"},{"type":"message","user":"UAB5V7WAV","text":"Answering some questions from Madhu about our operational strategy. Here\u2019s my answers to her questions: <https:\/\/docs.google.com\/document\/d\/1mT6xc21MWPV3JeedheIhrV3EKZprHEz04c_zzp6xHDA\/edit?usp=sharing>. I\u2019m trying to describe the situation as it is, rather than as it _could_ be. If anyone has comments, please toss them in this doc.","client_msg_id":"a94ff3f8-bf0c-4a00-9787-2d45e17306dc","thread_ts":"1539259878.000100","reply_count":1,"replies":[{"user":"UAB5V7WAV","ts":"1539259916.000100"}],"subscribed":false,"unread_count":1,"ts":"1539259878.000100"},{"type":"message","user":"UBRHEKHUM","text":"Hopefully your parents are as cool as mine and them stopping by isn't gonna suck!","client_msg_id":"1b911fb3-3e08-4935-94af-6ecc5aca5ab4","thread_ts":"1539257708.000100","parent_user_id":"UAB5V7WAV","ts":"1539257758.000100"},{"type":"message","user":"UAB5V7WAV","text":"It\u2019s going to be a slightly weird morning for me. Sadie (my daughter) has a PT appointment I\u2019m going to and my parents are swinging by my house on way to Virginia. If I\u2019m slow to respond, that\u2019ll be why.","client_msg_id":"ac14aa5a-a947-44d8-84df-61315d05a11c","thread_ts":"1539257708.000100","reply_count":1,"replies":[{"user":"UBRHEKHUM","ts":"1539257758.000100"}],"subscribed":false,"unread_count":1,"ts":"1539257708.000100","reactions":[{"name":"+1","users":["UBRHEKHUM"],"count":1}]},{"type":"message","user":"UAB5V7WAV","text":"yep.","client_msg_id":"18614d57-c644-454f-846f-7bcb04ba1e77","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539257639.000100"},{"type":"message","user":"U214T7GAF","text":"So would the logic be that we first do a \"get project\" and then check the deleted flag, and perform either a create or undelete depending?","client_msg_id":"880284f2-16b8-4e12-8b3a-74acc1de2766","edited":{"user":"U214T7GAF","ts":"1539222802.000000"},"thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539222440.000100"},{"type":"message","user":"UAB5V7WAV","text":"The create rpc cannot be used to undelete. The guide is clear on that. The semantics of undelete itself are fuzzier, though I can\u2019t see why we\u2019d deviate from it working more-or-less like delete.","client_msg_id":"101672a9-6fb6-4099-9c3b-39c3b4b6d0c3","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539220066.000100"},{"type":"message","user":"UAY14DYUA","text":"As long as create-project will undelete, then that sounds like it would work ","client_msg_id":"3abba167-ab38-4f7c-978a-3188c81ab949","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219341.000100"},{"type":"message","user":"U214T7GAF","text":"create-org, create-project (providers-svc already conveniently calls them ensure-*)","client_msg_id":"0071ab79-7634-4821-9c54-f50610a97c09","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219290.000100"},{"type":"message","user":"UAY14DYUA","text":"What call will the providers service make to the accounts service? ","client_msg_id":"bc43a38d-d225-41d4-ac70-50ce074d201b","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219263.000100"},{"type":"message","user":"U214T7GAF","text":"do we need to differentiate?","client_msg_id":"6d7b517e-adc5-431c-949b-c1ecdda487e5","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219218.000100"},{"type":"message","user":"UAY14DYUA","text":"How can we differentiate between create and undelete? ","client_msg_id":"5f43b65a-8b89-4f97-9dcb-7bf9f0c14b4c","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219195.000100"},{"type":"message","user":"UAB5V7WAV","text":"The interface should use a undelete method, but the underlying logic can be the same (see <https:\/\/cloud.google.com\/apis\/design\/custom_methods> for the recommendation of that name).","client_msg_id":"c50af9b0-101e-472a-8e60-741b9b7c3c71","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539219172.000100"},{"type":"message","user":"U8W5UU7CZ","text":"The create project endpoint can handle create and undelete in one place","client_msg_id":"d0284bb2-05ed-4579-a946-17b9d0652cf7","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539215830.000100"},{"type":"message","user":"UAB5V7WAV","text":"Why is it easier?","client_msg_id":"748fef9f-0641-4ca6-b3dc-aa07f066d8cf","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213734.000100"},{"type":"message","user":"UAB5V7WAV","text":"Yes. The issue is (as I think you are aware) you can\u2019t do the installation check without the slug. You can cache the slug, but it\u2019s not pretty given the current structure of the code.","client_msg_id":"b1e2c952-1bb3-41c1-b7e8-f79b5134e0da","thread_ts":"1539209619.000100","parent_user_id":"UAB5V7WAV","ts":"1539213649.000100"},{"type":"message","user":"U8W5UU7CZ","text":":+1: Looks like I\u2019ll be knocking that out with undelete","client_msg_id":"b44d7925-7f66-4100-973e-a668ef5caeb2","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213488.000100"},{"type":"message","user":"UAY14DYUA","text":"Is it true that most requests happen as a result of project-id resolution in handling the job-updated event?","client_msg_id":"a7561688-4596-440e-a5be-e08c1037fe82","thread_ts":"1539209619.000100","parent_user_id":"UAB5V7WAV","ts":"1539213323.000100"},{"type":"message","user":"UAY14DYUA","text":"We didn\u2019t add it yet because we figured we\u2019d have to do non-eager load either way, so that one was first (I think)","client_msg_id":"423a4bf7-bfe5-4b2a-99f3-e6d2acf15bec","edited":{"user":"UAY14DYUA","ts":"1539213198.000000"},"thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213194.000100"},{"type":"message","user":"UAY14DYUA","text":"<https:\/\/circleci.atlassian.net\/browse\/CIRCLE-14056>","client_msg_id":"4c5a0587-fd23-4f51-a3c2-85cc4f2c7d22","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213166.000100"},{"type":"message","user":"UAY14DYUA","text":"lemme find it","client_msg_id":"c0aabc54-ee0d-420d-b89f-769b6ed8bff6","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213152.000100"},{"type":"message","user":"UAY14DYUA","text":"There\u2019s a ticket to add it","client_msg_id":"005dffed-ab90-4977-8d4a-564ff6f04b00","thread_ts":"1539211973.000100","parent_user_id":"U8W5UU7CZ","ts":"1539213150.000100"}],"has_more":true}